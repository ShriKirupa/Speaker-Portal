let speakers = [
  {
    "speakerId": "SPK-101",
    "name": "Dr. Arun Kumar",
    "designation": "Professor",
    "organization": "IIT Madras",
    "expertise": "Artificial Intelligence",
    "email": "arun.kumar@iitm.ac.in",
    "phone": "9876543210"
  },
  {
    "speakerId": "SPK-102",
    "name": "Dr. Meena Subramanian",
    "designation": "Associate Professor",
    "organization": "Anna University",
    "expertise": "Data Science",
    "email": "meena.sub@annauniv.edu",
    "phone": "9876543211"
  },
  {
    "speakerId": "SPK-103",
    "name": "Mr. Raghav Iyer",
    "designation": "Senior Software Engineer",
    "organization": "Google India",
    "expertise": "Cloud Computing",
    "email": "raghav.iyer@gmail.com",
    "phone": "9876543212"
  },
  {
    "speakerId": "SPK-104",
    "name": "Ms. Priya Sharma",
    "designation": "Data Analyst",
    "organization": "Infosys",
    "expertise": "Business Analytics",
    "email": "priya.sharma@infosys.com",
    "phone": "9876543213"
  },
  {
    "speakerId": "SPK-105",
    "name": "Dr. Suresh Balaji",
    "designation": "Professor",
    "organization": "NIT Trichy",
    "expertise": "Computer Networks",
    "email": "suresh.balaji@nitt.edu",
    "phone": "9876543214"
  },
  {
    "speakerId": "SPK-106",
    "name": "Mr. Karthik Raman",
    "designation": "Product Manager",
    "organization": "Amazon",
    "expertise": "Product Development",
    "email": "karthik.raman@amazon.com",
    "phone": "9876543215"
  },
  {
    "speakerId": "SPK-107",
    "name": "Dr. Lakshmi Narayanan",
    "designation": "Professor",
    "organization": "PSG College of Technology",
    "expertise": "Machine Learning",
    "email": "lakshmi.n@psgtech.edu",
    "phone": "9876543216"
  },
  {
    "speakerId": "SPK-108",
    "name": "Mr. Arvind Krishnan",
    "designation": "Startup Founder",
    "organization": "EdTech Startup",
    "expertise": "Entrepreneurship",
    "email": "arvind@edtechstartup.com",
    "phone": "9876543217"
  },
  {
    "speakerId": "SPK-109",
    "name": "Dr. Kavitha R",
    "designation": "Assistant Professor",
    "organization": "SRM University",
    "expertise": "Cyber Security",
    "email": "kavitha.r@srmist.edu.in",
    "phone": "9876543218"
  },
  {
    "speakerId": "SPK-110",
    "name": "Mr. Sanjay Mohan",
    "designation": "Technical Architect",
    "organization": "TCS",
    "expertise": "System Design",
    "email": "sanjay.mohan@tcs.com",
    "phone": "9876543219"
  },

  {
    "speakerId": "SPK-111",
    "name": "Dr. Anitha Devi",
    "designation": "Professor",
    "organization": "VIT University",
    "expertise": "Internet of Things",
    "email": "anitha.devi@vit.ac.in",
    "phone": "9876543220"
  },
  {
    "speakerId": "SPK-112",
    "name": "Mr. Naveen Kumar",
    "designation": "DevOps Engineer",
    "organization": "Wipro",
    "expertise": "DevOps & CI/CD",
    "email": "naveen.kumar@wipro.com",
    "phone": "9876543221"
  },
  {
    "speakerId": "SPK-113",
    "name": "Dr. Rajesh Iyer",
    "designation": "Professor",
    "organization": "IISc Bangalore",
    "expertise": "Distributed Systems",
    "email": "rajesh.iyer@iisc.ac.in",
    "phone": "9876543222"
  },
  {
    "speakerId": "SPK-114",
    "name": "Ms. Deepa Menon",
    "designation": "UX Designer",
    "organization": "Zoho",
    "expertise": "UI/UX Design",
    "email": "deepa.menon@zoho.com",
    "phone": "9876543223"
  },
  {
    "speakerId": "SPK-115",
    "name": "Dr. Prakash Rao",
    "designation": "Associate Professor",
    "organization": "BITS Pilani",
    "expertise": "Software Engineering",
    "email": "prakash.rao@bits-pilani.ac.in",
    "phone": "9876543224"
  },
  {
    "speakerId": "SPK-116",
    "name": "Mr. Aditya Verma",
    "designation": "AI Research Engineer",
    "organization": "Microsoft Research",
    "expertise": "Deep Learning",
    "email": "aditya.verma@microsoft.com",
    "phone": "9876543225"
  },
  {
    "speakerId": "SPK-117",
    "name": "Dr. Pooja Nair",
    "designation": "Assistant Professor",
    "organization": "Amrita University",
    "expertise": "Natural Language Processing",
    "email": "pooja.nair@amrita.edu",
    "phone": "9876543226"
  },
  {
    "speakerId": "SPK-118",
    "name": "Mr. Harish Babu",
    "designation": "Blockchain Consultant",
    "organization": "Tech Consultancy",
    "expertise": "Blockchain Technology",
    "email": "harish.babu@consulting.com",
    "phone": "9876543227"
  },
  {
    "speakerId": "SPK-119",
    "name": "Dr. Kannan S",
    "designation": "Professor",
    "organization": "Madras Institute of Technology",
    "expertise": "Embedded Systems",
    "email": "kannan.s@mitindia.edu",
    "phone": "9876543228"
  },
  {
    "speakerId": "SPK-120",
    "name": "Ms. Shalini Gupta",
    "designation": "HR Partner",
    "organization": "Accenture",
    "expertise": "Career Guidance",
    "email": "shalini.gupta@accenture.com",
    "phone": "9876543229"
  },

  {
    "speakerId": "SPK-121",
    "name": "Dr. Venkat Raman",
    "designation": "Professor",
    "organization": "IIIT Hyderabad",
    "expertise": "Computer Vision",
    "email": "venkat.raman@iiit.ac.in",
    "phone": "9876543230"
  },
  {
    "speakerId": "SPK-122",
    "name": "Mr. Sidharth Jain",
    "designation": "Founder & CTO",
    "organization": "AI Startup",
    "expertise": "Startup Technology",
    "email": "sidharth@aistartup.io",
    "phone": "9876543231"
  },
  {
    "speakerId": "SPK-123",
    "name": "Dr. Revathi Krishnan",
    "designation": "Associate Professor",
    "organization": "Hindustan Institute of Technology",
    "expertise": "Big Data Analytics",
    "email": "revathi.k@hit.edu",
    "phone": "9876543232"
  },
  {
    "speakerId": "SPK-124",
    "name": "Mr. Rohit Malhotra",
    "designation": "Cyber Security Analyst",
    "organization": "Deloitte",
    "expertise": "Information Security",
    "email": "rohit.malhotra@deloitte.com",
    "phone": "9876543233"
  },
  {
    "speakerId": "SPK-125",
    "name": "Dr. Nirmala Devi",
    "designation": "Professor",
    "organization": "Thiagarajar College of Engineering",
    "expertise": "Cloud Architecture",
    "email": "nirmala.devi@tce.edu",
    "phone": "9876543234"
  },
  {
    "speakerId": "SPK-126",
    "name": "Mr. Akash Patel",
    "designation": "Full Stack Developer",
    "organization": "Startup Ecosystem",
    "expertise": "Web Development",
    "email": "akash.patel@startup.com",
    "phone": "9876543235"
  },
  {
    "speakerId": "SPK-127",
    "name": "Dr. Gopinath R",
    "designation": "Assistant Professor",
    "organization": "Saveetha Engineering College",
    "expertise": "Mobile Computing",
    "email": "gopinath.r@saveetha.ac.in",
    "phone": "9876543236"
  },
  {
    "speakerId": "SPK-128",
    "name": "Ms. Anjali Kapoor",
    "designation": "Business Consultant",
    "organization": "KPMG",
    "expertise": "Business Strategy",
    "email": "anjali.kapoor@kpmg.com",
    "phone": "9876543237"
  },
  {
    "speakerId": "SPK-129",
    "name": "Dr. Balaji M",
    "designation": "Professor",
    "organization": "SSN College of Engineering",
    "expertise": "Software Testing",
    "email": "balaji.m@ssn.edu.in",
    "phone": "9876543238"
  },
  {
    "speakerId": "SPK-130",
    "name": "Mr. Vikram Singh",
    "designation": "Technical Trainer",
    "organization": "Corporate Training Institute",
    "expertise": "Placement Readiness",
    "email": "vikram.singh@training.org",
    "phone": "9876543239"
  }
]
;

export default function handler(req, res) {
  res.setHeader("Access-Control-Allow-Origin", "*");
  res.setHeader("Access-Control-Allow-Methods", "GET,POST,PUT,DELETE");
  res.setHeader("Access-Control-Allow-Headers", "Content-Type");

  if (req.method === "OPTIONS") {
    return res.status(200).end();
  }

  const { method, query, body } = req;

  if (method === "GET") {
    if (query.id) {
      const speaker = speakers.find(s => s.speakerId === query.id);
      return speaker
        ? res.status(200).json(speaker)
        : res.status(404).json({ message: "Speaker not found" });
    }
    return res.status(200).json(speakers);
  }

  if (method === "POST") {
    speakers.push(body);
    return res.status(201).json({ message: "Speaker added" });
  }

  if (method === "PUT") {
    speakers = speakers.map(s =>
      s.speakerId === body.speakerId ? body : s
    );
    return res.status(200).json({ message: "Speaker updated" });
  }

  if (method === "DELETE") {
    speakers = speakers.filter(s => s.speakerId !== query.id);
    return res.status(200).json({ message: "Speaker deleted" });
  }

  res.status(405).json({ message: "Method not allowed" });
}

